[INFO] WhatsApp watcher configured with Playwright settings from .env file.
[INFO] Session path: ./whatsapp_session
[INFO] Watch interval: 30 seconds
[INFO] Labels to watch: ['UNREAD', 'IMPORTANT']
[INFO] Business mode: True
[INFO] Existing session found. Using stored session...
[INFO] Note: Browser will be visible (WhatsApp Web blocks headless mode)
[INFO] Session loaded successfully
[INFO] Applying stealth mode to avoid detection...
[INFO] Waiting for WhatsApp interface to initialize (this takes 40-50 seconds)...
[INFO] Checking authentication status...
[INFO] Found 52 chats - Authenticated: True
[INFO] WhatsApp connected. Now monitoring for new messages...
[WHATSAPP] WhatsApp Watcher started.
[INFO] Checking for new messages every 120 seconds...
[DEBUG] Already on WhatsApp Web, skipping navigation
[DEBUG] Sidebar detected, waiting for content to load...
[DEBUG] WhatsApp interface loaded, checking for chats...
[DEBUG] Found 52 chats using selector: #pane-side div[role="row"]
[DEBUG] Processing first 10 chats...
[ERROR] Could not check messages: 'charmap' codec can't encode character '\U0001fac0' in position 31: character maps to <undefined>
[DEBUG] Already on WhatsApp Web, skipping navigation
[DEBUG] Main interface not loaded yet: Page.wait_for_selector: Connection closed while reading from the driver
